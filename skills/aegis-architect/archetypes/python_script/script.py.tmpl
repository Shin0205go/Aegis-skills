#!/usr/bin/env python3
"""
{{pascal_name}} - {{description}}

Usage:
    python {{name}}.py [options]
"""

import argparse
import sys
from typing import Optional


def main() -> int:
    """メインエントリーポイント"""
    parser = argparse.ArgumentParser(
        description="{{description}}",
        formatter_class=argparse.RawDescriptionHelpFormatter,
    )

    # TODO: 引数を追加
    parser.add_argument(
        "--verbose", "-v",
        action="store_true",
        help="詳細出力を有効化",
    )

    args = parser.parse_args()

    try:
        result = run(verbose=args.verbose)
        return 0 if result else 1
    except Exception as e:
        print(f"Error: {e}", file=sys.stderr)
        return 1


def run(*, verbose: bool = False) -> bool:
    """
    メイン処理

    Args:
        verbose: 詳細出力フラグ

    Returns:
        成功時True
    """
    if verbose:
        print("{{pascal_name}} starting...")

    # TODO: 処理を実装

    if verbose:
        print("Done.")

    return True


if __name__ == "__main__":
    sys.exit(main())
